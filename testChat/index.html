<!DOCTYPE html>
<html>
<head>
    <title>GSGA Poker</title>
    <link type="text/css" rel="stylesheet" href="Styles/cards.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h1>GeoSiGA Scrum Poker <i>(Beta)</i></h1>
    <h4> A Simple and light Planning Poker Application</h4>
    <div id="form">
            <input class=marginIt id="company" type=text placeholder="Your company name"> <br>
            <input class=marginIt id="name" type=text placeholder="Your name"><br>
            <button class=marginIt id="login">Login</button>
    </div>

    <div id="logged">
        <img src="http://www.placebear.com/200/300" id="img1" />
        <p class="clearT">Kaio Vinicius do Amaral  </p> <br>
        <p class="clearT">Geosiga </p>
    </div>

    <div id="central">
    </div>

    <div id="buttonInside">
        <button id="reset"> New Voting</button>
        <button id="show"> Show Votes</button>
    </div>

    <div id="cardsContainer">
        <div id="c" class="card">
            <div class="nype">C</div>
        </div>
        <div id="mp"class="card">
            <div class="nype">MP</div>
        </div>
        <div id="p" class="card">
            <div class="nype">P</div>
        </div>
        <div id="m" class="card">
            <div class="nype">M</div>
        </div>
        <div id="g" class="card">
            <div class="nype">G</div>
        </div>
        <div id="mg" class="card">
            <div class="nype">MG</div>
        </div>
        <div id="any" class="card">
            <div class="nype">?</div>
        </div>
    </div>

    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-1.6.4.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.chatHub;
            // Create a function that the hub can call to broadcast messages.
            chat.client.broadcastMessage = function (name, message) {
                // Html encode display name and message.
                //var encodedName = $('<div />').text(name).html();
                // var encodedMsg = $('<div />').text(message).html();
                // Add the message to the page.
                //$('#discussion').append('<li><strong>' + name//encodedName
                //   + '</strong>:&nbsp;&nbsp;' + message + '</li>');
                if (message == 'H') {
                    $('#central > div').remove();
                }
                else if (message == 'S') {
                    $('.hid').show('slow');
                }
                else {
                    $('#central').append(' <div class="vote">' + name + '<div class="nypev"> <br> <p class="hid" hidden>' + message + '</p></div> </div>');
                }
            };
            // Get the user name and store it to prepend to messages.
            //$('#displayname').val(prompt('Enter your name:', ''));
            // Set initial focus to message input box.
            var username;

            $('#login').click(function () {
                username = $('#name').val();
                $('#name').val('').focus();
                $('#company').val('').focus();
            })

            $('#c').click(function(){
                chat.server.send(username, 'C');
            })

            $('#mp').click(function () {
                chat.server.send(username, 'MP');
            })

            $('#p').click(function () {
                chat.server.send(username, 'P');
            })

            $('#m').click(function () {
                chat.server.send(username, 'M');
            })

            $('#g').click(function () {
                chat.server.send(username, 'G');
            })

            $('#mg').click(function () {
                chat.server.send(username, 'MG');
            })

            $('#any').click(function () {
                chat.server.send(username, '?');
            })

            $('#reset').click(function () {
                chat.server.send('-', 'H');
            })

            $('#show').click(function () {
                chat.server.send('-', 'S');
            })

            //$('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send(username, $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
            });
        });
    </script>
</body>
</html>